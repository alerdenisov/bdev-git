$(function(){}),function(t){"use strict";function e(t,e){var i=e.create("masonryHorizontal");return i.prototype._resetLayout=function(){this.getRowHeight(),this._getMeasurement("gutter","outerHeight"),this.rowHeight+=this.gutter,this.rows=Math.floor((this.isotope.size.innerHeight+this.gutter)/this.rowHeight),this.rows=Math.max(this.rows,1);var t=this.rows;for(this.rowXs=[];t--;)this.rowXs.push(0);this.maxX=0},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=Math.ceil(t.size.outerHeight/this.rowHeight);e=Math.min(e,this.rows);for(var i=this._getRowGroup(e),n=Math.min.apply(Math,i),a=o(i,n),r={x:n,y:this.rowHeight*a},s=n+t.size.outerWidth,l=this.rows+1-i.length,c=0;l>c;c++)this.rowXs[a+c]=s;return r},i.prototype._getRowGroup=function(t){if(2>t)return this.rowXs;for(var e=[],o=this.rows+1-t,i=0;o>i;i++){var n=this.rowXs.slice(i,i+t);e[i]=Math.max.apply(Math,n)}return e},i.prototype._manageStamp=function(e){var o=t(e),i=this.isotope._getElementOffset(e),n=this.isotope.options.isOriginTop?i.top:i.bottom,a=n+o.outerHeight,r=Math.floor(n/this.rowHeight);r=Math.max(0,r);var s=Math.floor(a/this.rowHeight);s=Math.min(this.rows-1,s);for(var l=(this.isotope.options.isOriginLeft?i.left:i.right)+o.outerWidth,c=r;s>=c;c++)this.rowXs[c]=Math.max(l,this.rowXs[c])},i.prototype._getContainerSize=function(){return this.maxX=Math.max.apply(Math,this.rowXs),{width:this.maxX}},i.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},i}var o=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,i=t.length;i>o;o++){var n=t[o];if(n===e)return o}return-1};"function"==typeof define&&define.amd?define(["get-size/get-size","isotope/js/layout-mode"],e):e(t.getSize,t.Isotope.LayoutMode)}(window),shortcut={all_shortcuts:{},add:function(t,e,o){var i={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(o)for(var n in i)"undefined"==typeof o[n]&&(o[n]=i[n]);else o=i;var a=o.target;"string"==typeof o.target&&(a=document.getElementById(o.target));t=t.toLowerCase();var r=function(i){if(i=i||window.event,o.disable_in_input){var n;if(i.target?n=i.target:i.srcElement&&(n=i.srcElement),3==n.nodeType&&(n=n.parentNode),"INPUT"==n.tagName||"TEXTAREA"==n.tagName)return}i.keyCode?code=i.keyCode:i.which&&(code=i.which);var a=String.fromCharCode(code).toLowerCase();188==code&&(a=","),190==code&&(a=".");var r=t.split("+"),s=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},h={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};i.ctrlKey&&(h.ctrl.pressed=!0),i.shiftKey&&(h.shift.pressed=!0),i.altKey&&(h.alt.pressed=!0),i.metaKey&&(h.meta.pressed=!0);for(var u=0;k=r[u],u<r.length;u++)"ctrl"==k||"control"==k?(s++,h.ctrl.wanted=!0):"shift"==k?(s++,h.shift.wanted=!0):"alt"==k?(s++,h.alt.wanted=!0):"meta"==k?(s++,h.meta.wanted=!0):k.length>1?c[k]==code&&s++:o.keycode?o.keycode==code&&s++:a==k?s++:l[a]&&i.shiftKey&&(a=l[a],a==k&&s++);return s!=r.length||h.ctrl.pressed!=h.ctrl.wanted||h.shift.pressed!=h.shift.wanted||h.alt.pressed!=h.alt.wanted||h.meta.pressed!=h.meta.wanted||(e(i),o.propagate)?void 0:(i.cancelBubble=!0,i.returnValue=!1,i.stopPropagation&&(i.stopPropagation(),i.preventDefault()),!1)};this.all_shortcuts[t]={callback:r,target:a,event:o.type},a.addEventListener?a.addEventListener(o.type,r,!1):a.attachEvent?a.attachEvent("on"+o.type,r):a["on"+o.type]=r},remove:function(t){t=t.toLowerCase();var e=this.all_shortcuts[t];if(delete this.all_shortcuts[t],e){var o=e.event,i=e.target,n=e.callback;i.detachEvent?i.detachEvent("on"+o,n):i.removeEventListener?i.removeEventListener(o,n,!1):i["on"+o]=!1}}},$(function(){function t(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}function e(t){noty({text:a.val(),timeout:Math.min(Math.max(100*a.val().length,1e3),1e4)});n.emit("chat message",$("#m").val())}console.log("site is ready for js!!!"),$("a").attr("tabindex",-1),$.fn.media=function(){this.each(function(){var t=$(this),e=t.parent(),o=t.find(".masonry__list_item"),i=o.filter(function(){return $(this).hasClass("item_mega")}),n=e.height();t.height(n);var a=600>n,r=n/6,s=r/.5625,l=0;o.each(function(){var t=$(this);t.height(r*(2+(a?1:0))),t.width(s*(2+(a?1:0))),t.attr("tabindex",l++)}),i.each(function(){var t=$(this);t.height(r*(4+(a?2:0))),t.width(s*(4+(a?2:0)))}),t.isotope({layoutMode:"masonryHorizontal",masonryHorizontal:{rowHeight:r},itemSelector:".masonry__list_item"})})};var o=function(){$(".masonry__list").media()};o(),$(window).resize(function(){console.log("resize"),o(),i()}),$(window).bind("DOMMouseScroll mousewheel",function(t){function e(t,o,n){var a=t.closest(".scroll");if(0===a.length)return null;var r,s,l="undefined"==typeof n.deltaY?i.wheelDelta:-n.deltaY,c=a[0];return s=c.scrollHeight-c.clientHeight,r=c.scrollTop/s,s>0&&(0>o&&r>0||o>0&&1>r)?(a.scrollTop(a.scrollTop()-l),a):(s=c.scrollWidth-c.clientWidth,r=c.scrollLeft/s,s>0&&(0>o&&r>0||o>0&&1>r)?(a.scrollLeft(a.scrollLeft()-l),a):e(a.parent(),o,n))}var o=$(t.target),i=t.originalEvent,n=i.detail?-i.detail:i.wheelDelta/120;e(o,-n,i),t.preventDefault()}),$.fn.customScroll=function(){this.each(function(){$(this)})},$(".scroll").customScroll();var i=function(){var t=$(".live__page");t.width(5e3),$(".live__camera").each(function(){var t=$(this),e=(t.is(".live__camera_main"),t.is(".live__camera_alt")),o=t.find("object"),i=t.parent(),n=i.height(),a=(n-31)*(16/9);o.height(n).width(a),t.height(n).width(a),e&&t.parent().width(a).parent().width(a)}),t.each(function(){var t=$(this),e=0;t.children().each(function(){var t=$(this);e+=parseInt(t.css("width"))}),t.width(e)})};i(),document.fullscreenEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.documentElement.webkitRequestFullScreen,document.fullscreenEnabled&&t(document.documentElement),console.log("Socket init");var n=io();console.log(n),$(".chat__button").click(function(){return n.emit("chat message",$("#m").val()),$("#m").val(""),!1});var a=$("#chat");$.noty.defaults={layout:"topRight",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:3500,force:!0,modal:!1,maxVisible:10,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:!1},shortcut.add("enter",function(){a.is(":focus")?(""!==a.val()&&(e(a.val()),a.val("")),a.focusout()):a.focus()})});